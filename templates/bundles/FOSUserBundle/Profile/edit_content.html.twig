{% trans_default_domain 'FOSUserBundle' %}


<div class="grid-x grid-padding-y">
    <div class="cell medium-3 show-for-medium photo-container">
        {% if app.user.afbeelding == "default" %}
            {% if is_granted("ROLE_CANDIDATE") %}
            <img class="photo" src="{{ asset('assets/img/users/defaultkandidaat.png') }}">
            {% else %}
            <img class="photo" src="{{ asset('assets/img/users/defaultbedrijf.png') }}">
            {% endif %}
        {% else %}
        <img class="photo" src="{{ asset('assets/img/users/') ~ app.user.afbeelding }}">
        {% endif %}
    </div>

    <div class="cell small-12 medium-9">

        <form name="fos_user_profile_form" method="POST" action="{{ path('fos_user_profile_edit') }}">
            <div class="grid-x grid-padding-x">
                {% if is_granted("ROLE_CANDIDATE") %}
                <div class="cell small-4">
                    <label class="form-label profile-label label-profiel-voornaam" for="voornaam">Voornaam</label>
                    <input type="text" class="form-input profile-input profiel-voornaam" id="voornaam" name="voornaam" maxLength="50" value="{{ app.user.voornaam }}">
                </div>
                <div class="cell small-8">
                    <label class="form-label profile-label label-profiel-naam" for="naam">Achternaam</label>
                    <input type="text" class="form-input profile-input profiel-naam" id="naam" name="naam" maxLength="50" value="{{ app.user.naam }}">
                </div>
                {% else %}
                <div class="cell small-12">
                    <label class="form-label profile-label label-profiel-org" for="naam">Naam organisatie</label>
                    <input type="text" class="form-input profile-input profiel-org" id="naam" name="naam" maxLength="50" value="{{ app.user.naam }}">
                </div>
                {% endif %}
            </div>
            <div class="grid-x grid-padding-x">
                <div class="cell small-12">
                    <label class="form-label profile-label label-profiel-email" for="email">E-mail</label>
                    <input type="text" class="form-input profile-input profiel-email" id="email" name="email" required="required" value="{{ app.user.email }}">
                </div>
            </div>
            <div class="grid-x grid-padding-x">
                {% if is_granted("ROLE_CANDIDATE") %}
                <div class="cell small-4">
                    <label class="form-label profile-label label-profiel-geboortedatum" for="geboortedatum">Geboortedatum</label>
                    <input type="date" class="form-input profile-input profiel-geboortedatum" id="geboortedatum" name="geboortedatum" min="1900-01-01" max="{{ 'now'|date('Y-m-d') }}" value="{{ app.user.geboortedatum|date('Y-m-d') }}">
                </div>
                <div class="cell small-8">
                {% else %}
                <div class="cell small-12">
                {% endif %}
                    <label class="form-label profile-label label-profiel-telefoonnummer" for="telefoonnummer">Telefoonnummer</label>
                    <input type="text" class="form-input profile-input profiel-telefoonnummer" id="telefoonnummer" name="telefoonnummer" max-length="20" value="{{ app.user.telefoonnummer }}">
                </div>        
            </div>
            <div class="grid-x grid-padding-x">
                <div class="cell small-12">
                    <label class="form-label profile-label label-profiel-adres" for="adres">Adres</label>
                    <input type="text" class="form-input profile-input profiel-adres" id="adres" name="adres" maxLength="50" value="{{ app.user.adres }}">
                </div>
            </div>
            <div class="grid-x grid-padding-x">
                <div class="cell small-4">
                    <label class="form-label profile-label label-profiel-postcode" for="postcode">Postcode</label>
                    <input type="text" class="form-input profile-input profiel-postcode" id="postcode" name="postcode" maxLength="10" value="{{ app.user.postcode }}">
                </div>
                <div class="cell small-8">
                    <label class="form-label profile-label label-profiel-plaats" for="plaats">{% if is_granted("ROLE_CANDIDATE") %} Woonplaats
                                                                                                                        {% else %} Vestigingsplaats {% endif %}</label>
                    <input type="text" class="form-input profile-input profiel-plaats" id="plaats" name="plaats" maxLength="50" value="{{ app.user.plaats }}">
                    
                </div>
            </div>
            <div class="grid-x grid-padding-x grid-padding-y">
                <div class="cell small-12">
                    <h2 class="orange">
                        {% if is_granted("ROLE_CANDIDATE") %}
                        Motivatie
                        {% else %}
                        Omschrijving van het bedrijf
                        {% endif %}
                    </h2>
                    <label for="tekst">
                        <div id="tekst"
                            {% if is_granted("ROLE_CANDIDATE") %}
                                data-placeholder="Waarom wil je in de IT werken?"
                            {% else %}
                                data-placeholder="Wat kan u over uw bedrijf vertellen?"
                            {% endif %}>
                            {% if app.user.tekst %}
                            {{ app.user.tekst }}
                            {% endif %}
                        </div>
                    </label>
                </div>
            </div>
            <div class="grid-x grid-padding-x">
                <div class="cell small-6">
                    <label for="cv">
                        <div>Cv</div>
                    </label>
                </div>
                <div class="cell small-6">
                    <div class="profile-submit-wrapper">
                        <label for="submit">
                            <i class="fas fa-arrow-right orange form-submit-arrow bijwerken-arrow"></i>
                        <input class="bebas orange form-submit bijwerken" id="submit" type="submit" value="{{ 'profile.edit.submit'|trans }}" />
                    </div>
                </div>
            </div>  
        </form>

    </div>
</div>

<script>

    let role = "{{ app.user.roles[0] }}";
    let placeholder;

    if (role == "ROLE_CANDIDATE") {
        placeholder = "Waarom wil je in de IT-sector werken?";
    } else if (role == "ROLE_EMPLOYER") {
        placeholder = "Wat kan u vertellen over uw bedrijf?"
    }

    let quill = new Quill('#tekst', {
        theme: 'snow',
        modules: {
            toolbar: [['bold', 'italic']]
        },
        placeholder: placeholder        
    });
</script>